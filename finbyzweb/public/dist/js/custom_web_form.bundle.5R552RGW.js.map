{
  "version": 3,
  "sources": ["../../../../../apps/finbyzweb/finbyzweb/public/js/frappe/web_form/web_form_list.js", "../../../../../apps/finbyzweb/finbyzweb/public/js/frappe/event_emitter.js", "../../../../../apps/finbyzweb/finbyzweb/public/js/frappe/web_form/web_form.js", "../../../../../apps/finbyzweb/finbyzweb/public/js/frappe/web_form/webform_script.js"],
  "sourcesContent": ["frappe.provide(\"frappe.ui\");\nfrappe.provide(\"frappe.views\");\nfrappe.provide(\"frappe.web_form_list\");\n\nexport default class WebFormList {\n\tconstructor(opts) {\n\t\tObject.assign(this, opts);\n\t\tfrappe.web_form_list = this;\n\t\tthis.wrapper = $(\".web-list-table\");\n\t\tthis.make_actions();\n\t\tthis.make_filters();\n\t}\n\n\trefresh() {\n\t\tthis.rows = [];\n\t\tthis.web_list_start = 0;\n\t\tthis.page_length = 10;\n\n\t\tfrappe.run_serially([\n\t\t\t() => this.get_list_view_fields(),\n\t\t\t() => this.get_data(),\n\t\t\t() => this.remove_more(),\n\t\t\t() => this.make_table(),\n\t\t\t() => this.create_more(),\n\t\t]);\n\t}\n\n\tremove_more() {\n\t\t$(\".more\").remove();\n\t}\n\n\tmake_filters() {\n\t\tthis.filters = {};\n\t\tthis.filter_input = [];\n\t\tlet filter_area = $(\".web-list-filters\");\n\n\t\tfrappe\n\t\t\t.call(\"frappe.website.doctype.web_form.web_form.get_web_form_filters\", {\n\t\t\t\tweb_form_name: this.web_form_name,\n\t\t\t})\n\t\t\t.then((response) => {\n\t\t\t\tlet fields = response.message;\n\t\t\t\tfields.length && filter_area.removeClass(\"hide\");\n\t\t\t\tfields.forEach((field) => {\n\t\t\t\t\tif ([\"Text Editor\", \"Text\", \"Small Text\"].includes(field.fieldtype)) {\n\t\t\t\t\t\tfield.fieldtype = \"Data\";\n\t\t\t\t\t}\n\n\t\t\t\t\tif ([\"Table\", \"Signature\"].includes(field.fieldtype)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet input = frappe.ui.form.make_control({\n\t\t\t\t\t\tdf: {\n\t\t\t\t\t\t\tfieldtype: field.fieldtype,\n\t\t\t\t\t\t\tfieldname: field.fieldname,\n\t\t\t\t\t\t\toptions: field.options,\n\t\t\t\t\t\t\tinput_class: \"input-xs\",\n\t\t\t\t\t\t\tonly_select: true,\n\t\t\t\t\t\t\tlabel: __(field.label, null, field.parent),\n\t\t\t\t\t\t\tonchange: (event) => {\n\t\t\t\t\t\t\t\tthis.add_filter(field.fieldname, input.value, field.fieldtype);\n\t\t\t\t\t\t\t\tthis.refresh();\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\tparent: filter_area,\n\t\t\t\t\t\trender_input: 1,\n\t\t\t\t\t\tonly_input: field.fieldtype == \"Check\" ? false : true,\n\t\t\t\t\t});\n\n\t\t\t\t\t$(input.wrapper)\n\t\t\t\t\t\t.addClass(\"col-md-2\")\n\t\t\t\t\t\t.attr(\"title\", __(field.label, null, field.parent))\n\t\t\t\t\t\t.tooltip({\n\t\t\t\t\t\t\tdelay: { show: 600, hide: 100 },\n\t\t\t\t\t\t\ttrigger: \"hover\",\n\t\t\t\t\t\t});\n\n\t\t\t\t\tinput.$input.attr(\"placeholder\", __(field.label, null, field.parent));\n\t\t\t\t\tthis.filter_input.push(input);\n\t\t\t\t});\n\t\t\t\tthis.refresh();\n\t\t\t});\n\t}\n\n\tadd_filter(field, value, fieldtype) {\n\t\tif (!value) {\n\t\t\tdelete this.filters[field];\n\t\t} else {\n\t\t\tif ([\"Data\", \"Currency\", \"Float\", \"Int\"].includes(fieldtype)) {\n\t\t\t\tvalue = [\"like\", \"%\" + value + \"%\"];\n\t\t\t}\n\t\t\tObject.assign(this.filters, Object.fromEntries([[field, value]]));\n\t\t}\n\t}\n\n\tget_list_view_fields() {\n\t\tif (this.columns) return this.columns;\n\n\t\tif (this.list_columns) {\n\t\t\tthis.columns = this.list_columns.map((df) => {\n\t\t\t\treturn {\n\t\t\t\t\tlabel: df.label,\n\t\t\t\t\tfieldname: df.fieldname,\n\t\t\t\t\tfieldtype: df.fieldtype,\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\t}\n\n\tfetch_data() {\n\t\tif (this.condition_json && JSON.parse(this.condition_json)) {\n\t\t\tlet filter = frappe.utils.get_filter_from_json(this.condition_json, this.doctype);\n\t\t\tfilter = frappe.utils.get_filter_as_json(filter);\n\t\t\tthis.filters = Object.assign(this.filters, JSON.parse(filter));\n\t\t}\n\n\t\tlet args = {\n\t\t\tmethod: \"frappe.www.list.get_list_data\",\n\t\t\targs: {\n\t\t\t\tdoctype: this.doctype,\n\t\t\t\tlimit_start: this.web_list_start,\n\t\t\t\tlimit: this.page_length,\n\t\t\t\tweb_form_name: this.web_form_name,\n\t\t\t\t...this.filters,\n\t\t\t},\n\t\t};\n\n\t\tif (this.no_change(args)) {\n\t\t\t// console.log('throttled');\n\t\t\treturn Promise.resolve();\n\t\t}\n\n\t\treturn frappe.call(args);\n\t}\n\n\tno_change(args) {\n\t\t// returns true if arguments are same for the last 3 seconds\n\t\t// this helps in throttling if called from various sources\n\t\tif (this.last_args && JSON.stringify(args) === this.last_args) {\n\t\t\treturn true;\n\t\t}\n\t\tthis.last_args = JSON.stringify(args);\n\t\tsetTimeout(() => {\n\t\t\tthis.last_args = null;\n\t\t}, 3000);\n\t\treturn false;\n\t}\n\n\tasync get_data() {\n\t\tlet response = await this.fetch_data();\n\t\tif (response) {\n\t\t\tthis.data = await response.message;\n\t\t}\n\t}\n\n\tmore() {\n\t\tthis.web_list_start += this.page_length;\n\t\tthis.fetch_data().then((res) => {\n\t\t\tif (res.message.length === 0) {\n\t\t\t\tfrappe.msgprint(__(\"No more items to display\"));\n\t\t\t}\n\t\t\tthis.append_rows(res.message);\n\t\t});\n\t}\n\n\tmake_table() {\n\t\tthis.table = $(`<table class=\"table\"></table>`);\n\n\t\tthis.make_table_head();\n\t\tthis.make_table_body();\n\t}\n\n\tmake_table_head() {\n\t\tlet $thead = $(`\n\t\t\t<thead>\n\t\t\t\t<tr>\n\t\t\t\t\t<th>\n\t\t\t\t\t\t<input type=\"checkbox\" class=\"select-all\">\n\t\t\t\t\t</th>\n\t\t\t\t\t<th>${__(\"Name\")}</th>\n\t\t\t\t</tr>\n\t\t\t</thead>\n\t\t`);\n\n\t\tthis.check_all = $thead.find(\"input.select-all\");\n\t\tthis.check_all.on(\"click\", (event) => {\n\t\t\tthis.toggle_select_all(event.target.checked);\n\t\t});\n\n\t\tthis.columns.forEach((col) => {\n\t\t\tlet $tr = $thead.find(\"tr\");\n\t\t\tlet $th = $(`<th>${__(col.label)}</th>`);\n\t\t\t$th.appendTo($tr);\n\t\t});\n\n\t\t$thead.appendTo(this.table);\n\t}\n\n\tmake_table_body() {\n\t\tif (this.data.length) {\n\t\t\tthis.wrapper.empty();\n\n\t\t\tif (this.table) {\n\t\t\t\tthis.table.find(\"tbody\").remove();\n\n\t\t\t\tif (this.check_all.length) {\n\t\t\t\t\tthis.check_all.prop(\"checked\", false);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.append_rows(this.data);\n\t\t\tthis.table.appendTo(this.wrapper);\n\t\t} else {\n\t\t\tif (this.wrapper.find(\".no-result\").length) return;\n\n\t\t\tthis.wrapper.empty();\n\t\t\tfrappe.has_permission(this.doctype, \"\", \"create\", () => {\n\t\t\t\tthis.setup_empty_state();\n\t\t\t});\n\t\t}\n\t}\n\n\tsetup_empty_state() {\n\t\tlet new_button = `\n\t\t\t<a\n\t\t\t\tclass=\"btn btn-primary btn-sm btn-new-doc hidden-xs\"\n\t\t\t\thref=\"${location.pathname.replace(\"/list\", \"\")}/new\">\n\t\t\t\t${__(\"Create a new {0}\", [__(this.doctype)])}\n\t\t\t</a>\n\t\t`;\n\n\t\tlet empty_state = $(`\n\t\t\t<div class=\"no-result text-muted flex justify-center align-center\">\n\t\t\t\t<div class=\"text-center\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc=\"/assets/frappe/images/ui-states/list-empty-state.svg\"\n\t\t\t\t\t\t\talt=\"Generic Empty State\"\n\t\t\t\t\t\t\tclass=\"null-state\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<p class=\"small mb-2\">${__(\"No {0} found\", [__(this.doctype)])}</p>\n\t\t\t\t\t${new_button}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`);\n\n\t\tempty_state.appendTo(this.wrapper);\n\t}\n\n\tappend_rows(row_data) {\n\t\tlet $tbody = this.table.find(\"tbody\");\n\n\t\tif (!$tbody.length) {\n\t\t\t$tbody = $(`<tbody></tbody>`);\n\t\t\t$tbody.appendTo(this.table);\n\t\t}\n\n\t\trow_data.forEach((data_item) => {\n\t\t\tlet $row_element = $(`<tr id=\"${data_item.name}\"></tr>`);\n\n\t\t\tlet row = new frappe.ui.WebFormListRow({\n\t\t\t\trow: $row_element,\n\t\t\t\tdoc: data_item,\n\t\t\t\tcolumns: this.columns,\n\t\t\t\tserial_number: data_item.name,\n\t\t\t\tevents: {\n\t\t\t\t\ton_edit: () => this.open_form(data_item.name),\n\t\t\t\t\ton_select: () => {\n\t\t\t\t\t\tthis.toggle_new();\n\t\t\t\t\t\tthis.toggle_delete();\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tthis.rows.push(row);\n\t\t\t$row_element.appendTo($tbody);\n\t\t});\n\t}\n\n\tmake_actions() {\n\t\tconst actions = $(\".web-list-actions\");\n\n\t\tfrappe.has_permission(this.doctype, \"\", \"delete\", () => {\n\t\t\tthis.add_button(actions, \"delete-rows\", \"danger\", true, \"Delete\", () =>\n\t\t\t\tthis.delete_rows()\n\t\t\t);\n\t\t});\n\t}\n\n\tadd_button(wrapper, name, type, hidden, text, action) {\n\t\tif ($(`.${name}`).length) return;\n\n\t\thidden = hidden ? \"hide\" : \"\";\n\t\ttype = type == \"danger\" ? \"danger button-delete\" : type;\n\n\t\tlet button = $(`\n\t\t\t<button class=\"${name} btn btn-${type} btn-sm ml-2 ${hidden}\">${text}</button>\n\t\t`);\n\n\t\tbutton.on(\"click\", () => action());\n\t\tbutton.appendTo(wrapper);\n\t}\n\n\tcreate_more() {\n\t\tif (this.rows.length >= this.page_length) {\n\t\t\tconst footer = $(\".web-list-footer\");\n\t\t\tthis.add_button(footer, \"more\", \"secondary\", false, \"Load More\", () => this.more());\n\t\t}\n\t}\n\n\ttoggle_select_all(checked) {\n\t\tthis.rows.forEach((row) => row.toggle_select(checked));\n\t}\n\n\topen_form(name) {\n\t\tlet path = window.location.pathname;\n\t\tif (path.includes(\"/list\")) {\n\t\t\tpath = path.replace(\"/list\", \"\");\n\t\t}\n\n\t\twindow.location.href = path + \"/\" + name;\n\t}\n\n\tget_selected() {\n\t\treturn this.rows.filter((row) => row.is_selected());\n\t}\n\n\ttoggle_delete() {\n\t\tif (!this.settings.allow_delete) return;\n\t\tlet btn = $(\".delete-rows\");\n\t\t!this.get_selected().length ? btn.addClass(\"hide\") : btn.removeClass(\"hide\");\n\t}\n\n\ttoggle_new() {\n\t\tif (!this.settings.allow_delete) return;\n\t\tlet btn = $(\".button-new\");\n\t\tthis.get_selected().length ? btn.addClass(\"hide\") : btn.removeClass(\"hide\");\n\t}\n\n\tdelete_rows() {\n\t\tif (!this.settings.allow_delete) return;\n\t\tfrappe\n\t\t\t.call({\n\t\t\t\ttype: \"POST\",\n\t\t\t\tmethod: \"frappe.website.doctype.web_form.web_form.delete_multiple\",\n\t\t\t\targs: {\n\t\t\t\t\tweb_form_name: this.web_form_name,\n\t\t\t\t\tdocnames: this.get_selected().map((row) => row.doc.name),\n\t\t\t\t},\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\tthis.refresh();\n\t\t\t\tthis.toggle_delete();\n\t\t\t\tthis.toggle_new();\n\t\t\t});\n\t}\n}\n\nfrappe.ui.WebFormListRow = class WebFormListRow {\n\tconstructor({ row, doc, columns, serial_number, events, options }) {\n\t\tObject.assign(this, { row, doc, columns, serial_number, events });\n\t\tthis.make_row();\n\t}\n\n\tmake_row() {\n\n\t\t// Add Checkboxes\n\t\tlet $cell = $(`<td class=\"list-col-checkbox\"></td>`);\n\n\t\tthis.checkbox = $(`<input type=\"checkbox\">`);\n\t\tthis.checkbox.on(\"click\", (event) => {\n\t\t\tthis.toggle_select(event.target.checked);\n\t\t\tevent.stopImmediatePropagation();\n\t\t});\n\t\tthis.checkbox.appendTo($cell);\n\t\t$cell.appendTo(this.row);\n\n\t\t// Add Serial Number\n\t\tlet serialNo = $(`<td><p class=\"ellipsis\">${__(this.serial_number)}</p></td>`);\n\t\tserialNo.appendTo(this.row);\n\n\t\tthis.columns.forEach((field) => {\n\t\t\tlet formatter = frappe.form.get_formatter(field.fieldtype);\n\t\t\tlet value =\n\t\t\t\t(this.doc[field.fieldname] &&\n\t\t\t\t\t__(\n\t\t\t\t\t\tformatter(this.doc[field.fieldname], field, { only_value: 1 }, this.doc)\n\t\t\t\t\t)) ||\n\t\t\t\t\"\";\n\t\t\t\tlet cell = $(`<td><p class=\"ellipsis\">${value}</p></td>`);\n\n\t\t\t\tif (field.fieldname === \"status\") {\n\t\t\t\t\tlet pTag = cell.find('p');\n\t\t\t\t\tif (value.toLowerCase() === \"open\" && this.doc[\"priority\"].toLowerCase() === \"high\") {\n\t\t\t\t\t\tpTag.addClass(\"badge badge-danger\");\n\t\t\t\t\t} else if (value.toLowerCase() === \"closed\") {\n\t\t\t\t\t\tpTag.addClass(\"badge badge-success\");\n\t\t\t\t\t} else if (value.toLowerCase() === \"on hold\") {\n\t\t\t\t\t\tpTag.addClass(\"badge badge-secondary\");\n\t\t\t\t\t}else if(value.toLowerCase() === \"open\") {\n\t\t\t\t\t\tpTag.addClass(\"badge badge-warning\");\n\t\t\t\t\t}\n\t\t\t\t}\t\t\t\t\n\t\t\t\tcell.appendTo(this.row);\t\t\t\t\n\n\t\t\tif (field.fieldtype === \"Text Editor\") {\n\t\t\t\tvalue = $(value).addClass(\"ellipsis\");\n\t\t\t\tcell = $(\"<td></td>\").append(value);\n\t\t\t}\n\t\t\tcell.appendTo(this.row);\n\t\t});\n\n\t\tthis.row.on(\"click\", () => this.events.on_edit());\n\t}\n\n\ttoggle_select(checked) {\n\t\tthis.checkbox.prop(\"checked\", checked);\n\t\tthis.events.on_select(checked);\n\t}\n\n\tis_selected() {\n\t\treturn this.checkbox.prop(\"checked\");\n\t}\n};\n", "frappe.provide(\"frappe.utils\");\n/**\n * Simple EventEmitterMixin which uses jQuery's event system\n */\nconst EventEmitterMixin = {\n\tinit() {\n\t\tthis.jq = jQuery({});\n\t},\n\n\ttrigger(evt, data) {\n\t\t!this.jq && this.init();\n\t\tthis.jq.trigger(evt, data);\n\t},\n\n\tonce(evt, handler) {\n\t\t!this.jq && this.init();\n\t\tthis.jq.one(evt, (e, data) => handler(data));\n\t},\n\n\ton(evt, handler) {\n\t\t!this.jq && this.init();\n\t\tthis.jq.bind(evt, (e, data) => handler(data));\n\t},\n\n\toff(evt, handler) {\n\t\t!this.jq && this.init();\n\t\tthis.jq.unbind(evt, (e, data) => handler(data));\n\t},\n};\n\nfrappe.utils.make_event_emitter = function (object) {\n\tObject.assign(object, EventEmitterMixin);\n\treturn object;\n};\n\nexport default EventEmitterMixin;\n", "frappe.provide(\"frappe.ui\");\nfrappe.provide(\"frappe.web_form\");\nimport EventEmitterMixin from \"../../frappe/event_emitter\";\n\nexport default class WebForm extends frappe.ui.FieldGroup {\n\tconstructor(opts) {\n\t\tsuper();\n\t\tObject.assign(this, opts);\n\t\tfrappe.web_form = this;\n\t\tfrappe.web_form.events = {};\n\t\tObject.assign(frappe.web_form.events, EventEmitterMixin);\n\t\tthis.current_section = 0;\n\t\tthis.is_multi_step_form = false;\n\t}\n\n\tprepare(web_form_doc, doc) {\n\t\tObject.assign(this, web_form_doc);\n\t\tthis.fields = web_form_doc.web_form_fields;\n\t\tthis.doc = doc;\n\t}\n\n\tmake() {\n\t\tthis.parent.empty();\n\t\tsuper.make();\n\t\tthis.set_page_breaks();\n\t\tthis.set_field_values();\n\n\t\tif (this.is_new || this.in_edit_mode) {\n\t\t\tthis.setup_primary_action();\n\t\t\tthis.setup_discard_action();\n\t\t}\n\n\t\tthis.setup_previous_next_button();\n\t\tthis.toggle_section();\n\n\t\t// webform client script\n\t\tfrappe.init_client_script && frappe.init_client_script();\n\t\tthis.setup_listeners();\n\t\tfrappe.web_form.events.trigger(\"after_load\");\n\t\tthis.after_load && this.after_load();\n\t}\n\n\ton(fieldname, handler) {\n\t\tlet field = this.fields_dict[fieldname];\n\t\tfield.df.change = () => {\n\t\t\thandler(field, field.value);\n\t\t\tthis.refresh_dependency();\n\t\t\tthis.make_form_dirty();\n\t\t};\n\t}\n\n\tsetup_listeners() {\n\t\t// setup change event for all fields if not already set through client script\n\t\tthis.fields.forEach((field) => {\n\t\t\tif (!field.change) {\n\t\t\t\tfield.change = () => {\n\t\t\t\t\tthis.refresh_dependency();\n\t\t\t\t\tthis.make_form_dirty();\n\t\t\t\t};\n\t\t\t}\n\t\t});\n\t}\n\n\tmake_form_dirty() {\n\t\tfrappe.form_dirty = true;\n\t\t$(\".indicator-pill.orange\").removeClass(\"hide\");\n\t}\n\n\tset_page_breaks() {\n\t\tthis.page_breaks = $(\".page-break\");\n\n\t\tif (this.page_breaks.length) {\n\t\t\tthis.page_breaks.each((i, page_break) => {\n\t\t\t\tif (!$(page_break).find(\"form\").length) {\n\t\t\t\t\t$(page_break).remove();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tthis.page_breaks = $(\".page-break\");\n\t\tthis.is_multi_step_form = !!this.page_breaks.length;\n\t}\n\n\tsetup_previous_next_button() {\n\t\tlet me = this;\n\n\t\tif (!me.is_multi_step_form) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.$next_button = $(`<button class=\"btn btn-default btn-next btn-sm ml-2\">\n\t\t\t${__(\"Next\")}\n\t\t</button>`);\n\n\t\tthis.$previous_button = $(`<button class=\"btn btn-default btn-previous btn-sm\">\n\t\t\t${__(\"Previous\")}\n\t\t</button>`);\n\n\t\tthis.$next_button.insertAfter(\".web-form-footer .right-area .discard-btn\");\n\t\tthis.in_view_mode && $(\".web-form-footer .right-area\").append(this.$next_button);\n\t\t$(\".web-form-footer .left-area\").prepend(this.$previous_button);\n\n\t\tthis.$previous_button.on(\"click\", () => {\n\t\t\tlet is_validated = me.validate_section();\n\n\t\t\tif (!is_validated) return false;\n\n\t\t\t/**\n\t\t\t\tThe eslint utility cannot figure out if this is an infinite loop in backwards and\n\t\t\t\tthrows an error. Disabling for-direction just for this section.\n\t\t\t\tfor-direction doesnt throw an error if the values are hardcoded in the\n\t\t\t\treverse for-loop, but in this case its a dynamic loop.\n\t\t\t\thttps://eslint.org/docs/rules/for-direction\n\t\t\t*/\n\t\t\t/* eslint-disable for-direction */\n\t\t\tfor (let idx = me.current_section; idx < me.sections.length; idx--) {\n\t\t\t\tlet is_empty = me.is_previous_section_empty(idx);\n\t\t\t\tme.current_section =\n\t\t\t\t\tme.current_section > 0 ? me.current_section - 1 : me.current_section;\n\n\t\t\t\tif (!is_empty) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t/* eslint-enable for-direction */\n\t\t\tme.toggle_section();\n\t\t\treturn false;\n\t\t});\n\n\t\tthis.$next_button.on(\"click\", () => {\n\t\t\tlet is_validated = me.validate_section();\n\n\t\t\tif (!is_validated) return false;\n\n\t\t\tfor (let idx = me.current_section; idx < me.sections.length; idx++) {\n\t\t\t\tlet is_empty = me.is_next_section_empty(idx);\n\t\t\t\tme.current_section =\n\t\t\t\t\tme.current_section < me.sections.length\n\t\t\t\t\t\t? me.current_section + 1\n\t\t\t\t\t\t: me.current_section;\n\n\t\t\t\tif (!is_empty) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tme.toggle_section();\n\t\t\treturn false;\n\t\t});\n\t}\n\n\tset_field_values() {\n\t\tif (this.doc.name) this.set_values(this.doc);\n\t\telse return;\n\t}\n\n\tset_default_values() {\n\t\tlet defaults = {};\n\t\tfor (let df of this.fields) {\n\t\t\tif (df.default) {\n\t\t\t\tdefaults[df.fieldname] = df.default;\n\t\t\t}\n\t\t}\n\t\tlet values = frappe.utils.get_query_params();\n\t\tdelete values.new;\n\t\tObject.assign(defaults, values);\n\t\tthis.set_values(values);\n\t}\n\n\tsetup_primary_action() {\n\t\t$(\".web-form\").on(\"submit\", () => this.save());\n\t}\n\n\tsetup_discard_action() {\n\t\t$(\".web-form-footer .discard-btn\").on(\"click\", () => this.discard_form());\n\t}\n\n\tdiscard_form() {\n\t\tlet path = window.location.href;\n\t\t// remove new or edit after last / from url\n\t\tpath = path.substring(0, path.lastIndexOf(\"/\"));\n\n\t\tif (frappe.form_dirty) {\n\t\t\tfrappe.warn(\n\t\t\t\t__(\"Discard?\"),\n\t\t\t\t__(\"Are you sure you want to discard the changes?\"),\n\t\t\t\t() => (window.location.href = path),\n\t\t\t\t__(\"Discard\")\n\t\t\t);\n\t\t} else {\n\t\t\twindow.location.href = path;\n\t\t}\n\t\treturn false;\n\t}\n\n\tvalidate_section() {\n\t\tif (this.allow_incomplete) return true;\n\n\t\tlet fields = $(`${this.get_page(this.current_section)} .form-control`);\n\t\tlet errors = [];\n\t\tlet invalid_values = [];\n\n\t\tfor (let field of fields) {\n\t\t\tlet fieldname = $(field).attr(\"data-fieldname\");\n\t\t\tif (!fieldname) continue;\n\n\t\t\tfield = this.fields_dict[fieldname];\n\n\t\t\tif (field && field.get_value) {\n\t\t\t\tlet value = field.get_value();\n\t\t\t\tif (\n\t\t\t\t\tfield.df.reqd &&\n\t\t\t\t\tis_null(typeof value === \"string\" ? strip_html(value) : value)\n\t\t\t\t)\n\t\t\t\t\terrors.push(__(field.df.label));\n\n\t\t\t\tif (\n\t\t\t\t\tfield.df.reqd &&\n\t\t\t\t\tfield.df.fieldtype === \"Text Editor\" &&\n\t\t\t\t\tis_null(strip_html(cstr(value)))\n\t\t\t\t)\n\t\t\t\t\terrors.push(__(field.df.label));\n\n\t\t\t\tif (field.df.invalid) invalid_values.push(__(field.df.label));\n\t\t\t}\n\t\t}\n\n\t\tlet message = \"\";\n\t\tif (invalid_values.length) {\n\t\t\tmessage += __(\"Invalid values for fields:\", null, \"Error message in web form\");\n\t\t\tmessage += \"<br><br><ul><li>\" + invalid_values.join(\"<li>\") + \"</ul>\";\n\t\t}\n\n\t\tif (errors.length) {\n\t\t\tmessage += __(\"Mandatory fields required:\", null, \"Error message in web form\");\n\t\t\tmessage += \"<br><br><ul><li>\" + errors.join(\"<li>\") + \"</ul>\";\n\t\t}\n\n\t\tif (invalid_values.length || errors.length) {\n\t\t\tfrappe.msgprint({\n\t\t\t\ttitle: __(\"Error\", null, \"Title of error message in web form\"),\n\t\t\t\tmessage: message,\n\t\t\t\tindicator: \"orange\",\n\t\t\t});\n\t\t}\n\n\t\treturn !(errors.length || invalid_values.length);\n\t}\n\n\ttoggle_section() {\n\t\tif (!this.is_multi_step_form) return;\n\n\t\tthis.render_progress_dots();\n\t\tthis.toggle_previous_button();\n\t\tthis.hide_form_pages();\n\t\tthis.show_form_page();\n\t\tthis.toggle_buttons();\n\t}\n\n\trender_progress_dots() {\n\t\tif (!this.is_multi_step_form) return;\n\t\t$(\".center-area.paging\").empty();\n\n\t\tif (this.in_view_mode) {\n\t\t\tlet paging_text = __(\"Page {0} of {1}\", [\n\t\t\t\tthis.current_section + 1,\n\t\t\t\tthis.page_breaks.length + 1,\n\t\t\t]);\n\t\t\t$(\".center-area.paging\").append(`<div>${paging_text}</div>`);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.$slide_progress = $(`<div class=\"slides-progress\"></div>`).appendTo(\n\t\t\t$(\".center-area.paging\")\n\t\t);\n\t\tthis.$slide_progress.empty();\n\n\t\tif (this.page_breaks.length < 1) return;\n\n\t\tfor (let i = 0; i <= this.page_breaks.length; i++) {\n\t\t\tlet $dot = $(`<div class=\"slide-step\">\n\t\t\t\t<div class=\"slide-step-indicator\"></div>\n\t\t\t\t<div class=\"slide-step-complete\">${frappe.utils.icon(\"tick\", \"xs\")}</div>\n\t\t\t</div>`).attr({ \"data-step-id\": i });\n\n\t\t\tif (i < this.current_section) {\n\t\t\t\t$dot.addClass(\"step-success\");\n\t\t\t}\n\t\t\tif (i === this.current_section) {\n\t\t\t\t$dot.addClass(\"active\");\n\t\t\t}\n\t\t\tthis.$slide_progress.append($dot);\n\t\t}\n\t}\n\n\ttoggle_buttons() {\n\t\tfor (let idx = this.current_section; idx <= this.page_breaks.length; idx++) {\n\t\t\tif (this.is_next_section_empty(idx)) {\n\t\t\t\tthis.show_save_and_hide_next_button();\n\t\t\t} else {\n\t\t\t\tthis.show_next_and_hide_save_button();\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tis_next_section_empty(section) {\n\t\tif (section + 1 > this.page_breaks.length + 1) return true;\n\n\t\tlet _page = $(`${this.get_page(section + 1)}`);\n\t\tlet visible_controls = _page.find(\".frappe-control:not(.hide-control)\");\n\n\t\treturn !visible_controls.length ? true : false;\n\t}\n\n\tis_previous_section_empty(section) {\n\t\tif (section - 1 > this.page_breaks.length + 1) return true;\n\n\t\tlet _page = $(`${this.get_page(section - 1)}`);\n\t\tlet visible_controls = _page.find(\".frappe-control:not(.hide-control)\");\n\n\t\treturn !visible_controls.length ? true : false;\n\t}\n\n\tshow_save_and_hide_next_button() {\n\t\t$(\".btn-next\").hide();\n\t\t$(\".submit-btn\").show();\n\t}\n\n\tshow_next_and_hide_save_button() {\n\t\t$(\".btn-next\").show();\n\t\t!this.allow_incomplete && $(\".submit-btn\").hide();\n\t}\n\n\ttoggle_previous_button() {\n\t\tthis.current_section == 0 ? $(\".btn-previous\").hide() : $(\".btn-previous\").show();\n\t}\n\n\tget_page(idx) {\n\t\treturn idx > 0 ? `.page-break:eq(${idx - 1})` : `.form-page:eq(${idx})`;\n\t}\n\n\tshow_form_page() {\n\t\t$(this.get_page(this.current_section)).show();\n\t}\n\n\thide_form_pages() {\n\t\tfor (let idx = 0; idx <= this.page_breaks.length; idx++) {\n\t\t\tif (idx !== this.current_section) {\n\t\t\t\t$(this.get_page(idx)).hide();\n\t\t\t}\n\t\t}\n\t}\n\n\tsave() {\n\t\tlet is_new = this.is_new;\n\t\tlet valid = this.validate && this.validate();\n\t\tif (!valid && valid !== undefined) {\n\t\t\tfrappe.msgprint(\n\t\t\t\t__(\"Couldn't save, please check the data you have entered\"),\n\t\t\t\t__(\"Validation Error\")\n\t\t\t);\n\t\t\treturn false;\n\t\t}\n\n\t\t// validation hack: get_values will check for missing data\n\t\tlet doc_values = super.get_values(this.allow_incomplete);\n\n\t\tif (!doc_values) return false;\n\n\t\tif (window.saving) return false;\n\t\t// TODO: remove this (used for payments app)\n\t\tlet for_payment = Boolean(this.accept_payment && !this.doc.paid);\n\n\t\tObject.assign(this.doc, doc_values);\n\t\tthis.doc.doctype = this.doc_type;\n\t\tthis.doc.web_form_name = this.name;\n\n\t\t// Save\n\t\twindow.saving = true;\n\t\tfrappe.form_dirty = false;\n\n\t\tfrappe.call({\n\t\t\ttype: \"POST\",\n\t\t\tmethod: \"frappe.website.doctype.web_form.web_form.accept\",\n\t\t\targs: {\n\t\t\t\tdata: this.doc,\n\t\t\t\tweb_form: this.name,\n\t\t\t\tfor_payment,\n\t\t\t},\n\t\t\tbtn: $(\"btn-primary\"),\n\t\t\tfreeze: true,\n\t\t\tcallback: (response) => {\n\t\t\t\t// Check for any exception in response\n\t\t\t\tif (!response.exc) {\n\t\t\t\t\t// Success\n\t\t\t\t\tthis.handle_success(response.message);\n\t\t\t\t\tfrappe.web_form.events.trigger(\"after_save\");\n\t\t\t\t\tthis.after_save && this.after_save();\n\t\t\t\t\t// args doctype and docname added to link doctype in file manager\n\t\t\t\t\tif (is_new && (response.message.attachment || response.message.file)) {\n\t\t\t\t\t\tfrappe.call({\n\t\t\t\t\t\t\ttype: \"POST\",\n\t\t\t\t\t\t\tmethod: \"frappe.handler.upload_file\",\n\t\t\t\t\t\t\targs: {\n\t\t\t\t\t\t\t\tfile_url: response.message.attachment || response.message.file,\n\t\t\t\t\t\t\t\tdoctype: response.message.doctype,\n\t\t\t\t\t\t\t\tdocname: response.message.name,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\talways: function () {\n\t\t\t\twindow.saving = false;\n\t\t\t},\n\t\t});\n\t\treturn false;\n\t}\n\n\thandle_success(data) {\n\t\t// TODO: remove this (used for payments app)\n\t\tif (this.accept_payment && !this.doc.paid) {\n\t\t\twindow.location.href = data;\n\t\t}\n\n\t\tif (!this.is_new) {\n\t\t\t$(\".success-title\").text(__(\"Updated\"));\n\t\t\t$(\".success-message\").text(__(\"Your form has been successfully updated\"));\n\t\t}\n\n\t\t$(\".web-form-container\").hide();\n\t\t$(\".success-page\").removeClass(\"hide\");\n\n\t\tif (this.success_url) {\n\t\t\tfrappe.utils.setup_timer(5, 0, $(\".time\"));\n\t\t\tsetTimeout(() => {\n\t\t\t\twindow.location.href = this.success_url;\n\t\t\t}, 5000);\n\t\t} else {\n\t\t\tthis.render_success_page(data);\n\t\t}\n\t}\n\n\trender_success_page(data) {\n\t\tif (this.allow_edit && data.name) {\n\t\t\t$(\".success-footer\").append(`\n\t\t\t\t<a href=\"/${this.route}/${data.name}/edit\" class=\"edit-button btn btn-default btn-md\">\n\t\t\t\t\t${__(\"Edit your response\", null, \"Button in web form\")}\n\t\t\t\t</a>\n\t\t\t`);\n\t\t}\n\n\t\tif (this.login_required && !this.allow_multiple && !this.show_list && data.name) {\n\t\t\t$(\".success-footer\").append(`\n\t\t\t\t<a href=\"/${this.route}/${data.name}\" class=\"view-button btn btn-default btn-md\">\n\t\t\t\t\t${__(\"View your response\", null, \"Button in web form\")}\n\t\t\t\t</a>\n\t\t\t`);\n\t\t}\n\t}\n}\n", "import WebFormList from \"./web_form_list\";\nimport WebForm from \"./web_form\";\n\nfrappe.ready(function () {\n\tlet web_form_doc = frappe.web_form_doc;\n\tlet reference_doc = frappe.reference_doc;\n\n\tshow_login_prompt();\n\n\tweb_form_doc.is_list ? show_list() : show_form();\n\n\tfunction show_login_prompt() {\n\t\tif (frappe.session.user != \"Guest\" || !web_form_doc.login_required) return;\n\t\tconst login_required = new frappe.ui.Dialog({\n\t\t\ttitle: __(\"Not Permitted\"),\n\t\t\tprimary_action_label: __(\"Login\"),\n\t\t\tprimary_action: () => {\n\t\t\t\twindow.location.replace(\"/login?redirect-to=\" + window.location.pathname);\n\t\t\t},\n\t\t});\n\t\tlogin_required.show();\n\t\tlogin_required.set_message(__(\"You are not permitted to access this page without login.\"));\n\t}\n\n\tfunction show_list() {\n\t\tnew WebFormList({\n\t\t\tdoctype: web_form_doc.doc_type,\n\t\t\tweb_form_name: web_form_doc.name,\n\t\t\tlist_columns: web_form_doc.list_columns,\n\t\t\tcondition_json: web_form_doc.condition_json,\n\t\t\tsettings: {\n\t\t\t\tallow_delete: web_form_doc.allow_delete,\n\t\t\t},\n\t\t});\n\t}\n\n\tfunction show_form() {\n\t\tlet web_form = new WebForm({\n\t\t\tparent: $(\".web-form-wrapper\"),\n\t\t});\n\t\tlet doc = reference_doc || {};\n\t\tsetup_fields(web_form_doc, doc);\n\n\t\tweb_form.prepare(web_form_doc, doc);\n\t\tweb_form.make();\n\n\t\tif (web_form_doc.is_new) {\n\t\t\tweb_form.set_default_values();\n\t\t}\n\n\t\t$(\".file-size\").each(function () {\n\t\t\t$(this).text(frappe.form.formatters.FileSize($(this).text()));\n\t\t});\n\t}\n\n\tfunction setup_fields(web_form_doc, doc_data) {\n\t\tweb_form_doc.web_form_fields.forEach((df) => {\n\t\t\tdf.is_web_form = true;\n\t\t\tdf.read_only = df.read_only || (!web_form_doc.is_new && !web_form_doc.in_edit_mode);\n\t\t\tif (df.fieldtype === \"Table\") {\n\t\t\t\tdf.get_data = () => {\n\t\t\t\t\tlet data = [];\n\t\t\t\t\tif (doc_data && doc_data[df.fieldname]) {\n\t\t\t\t\t\treturn doc_data[df.fieldname];\n\t\t\t\t\t}\n\t\t\t\t\treturn data;\n\t\t\t\t};\n\n\t\t\t\t$.each(df.fields || [], function (_i, field) {\n\t\t\t\t\tif (field.fieldtype === \"Link\") {\n\t\t\t\t\t\tfield.only_select = true;\n\t\t\t\t\t}\n\t\t\t\t\tfield.is_web_form = true;\n\t\t\t\t});\n\n\t\t\t\tif (df.fieldtype === \"Attach\") {\n\t\t\t\t\tdf.is_private = true;\n\t\t\t\t}\n\n\t\t\t\tdelete df.parent;\n\t\t\t\tdelete df.parentfield;\n\t\t\t\tdelete df.parenttype;\n\t\t\t\tdelete df.doctype;\n\n\t\t\t\treturn df;\n\t\t\t}\n\t\t\tif (df.fieldtype === \"Link\") {\n\t\t\t\tdf.only_select = true;\n\t\t\t}\n\t\t\tif ([\"Attach\", \"Attach Image\"].includes(df.fieldtype)) {\n\t\t\t\tif (typeof df.options !== \"object\") {\n\t\t\t\t\tdf.options = {};\n\t\t\t\t}\n\t\t\t\tdf.options.disable_file_browser = true;\n\t\t\t}\n\t\t});\n\t}\n});\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;AAAA,SAAO,QAAQ,WAAW;AAC1B,SAAO,QAAQ,cAAc;AAC7B,SAAO,QAAQ,sBAAsB;AAErC,MAAqB,cAArB,MAAiC;AAAA,IAChC,YAAY,MAAM;AACjB,aAAO,OAAO,MAAM,IAAI;AACxB,aAAO,gBAAgB;AACvB,WAAK,UAAU,EAAE,iBAAiB;AAClC,WAAK,aAAa;AAClB,WAAK,aAAa;AAAA,IACnB;AAAA,IAEA,UAAU;AACT,WAAK,OAAO,CAAC;AACb,WAAK,iBAAiB;AACtB,WAAK,cAAc;AAEnB,aAAO,aAAa;AAAA,QACnB,MAAM,KAAK,qBAAqB;AAAA,QAChC,MAAM,KAAK,SAAS;AAAA,QACpB,MAAM,KAAK,YAAY;AAAA,QACvB,MAAM,KAAK,WAAW;AAAA,QACtB,MAAM,KAAK,YAAY;AAAA,MACxB,CAAC;AAAA,IACF;AAAA,IAEA,cAAc;AACb,QAAE,OAAO,EAAE,OAAO;AAAA,IACnB;AAAA,IAEA,eAAe;AACd,WAAK,UAAU,CAAC;AAChB,WAAK,eAAe,CAAC;AACrB,UAAI,cAAc,EAAE,mBAAmB;AAEvC,aACE,KAAK,iEAAiE;AAAA,QACtE,eAAe,KAAK;AAAA,MACrB,CAAC,EACA,KAAK,CAAC,aAAa;AACnB,YAAI,SAAS,SAAS;AACtB,eAAO,UAAU,YAAY,YAAY,MAAM;AAC/C,eAAO,QAAQ,CAAC,UAAU;AACzB,cAAI,CAAC,eAAe,QAAQ,YAAY,EAAE,SAAS,MAAM,SAAS,GAAG;AACpE,kBAAM,YAAY;AAAA,UACnB;AAEA,cAAI,CAAC,SAAS,WAAW,EAAE,SAAS,MAAM,SAAS,GAAG;AACrD;AAAA,UACD;AAEA,cAAI,QAAQ,OAAO,GAAG,KAAK,aAAa;AAAA,YACvC,IAAI;AAAA,cACH,WAAW,MAAM;AAAA,cACjB,WAAW,MAAM;AAAA,cACjB,SAAS,MAAM;AAAA,cACf,aAAa;AAAA,cACb,aAAa;AAAA,cACb,OAAO,GAAG,MAAM,OAAO,MAAM,MAAM,MAAM;AAAA,cACzC,UAAU,CAAC,UAAU;AACpB,qBAAK,WAAW,MAAM,WAAW,MAAM,OAAO,MAAM,SAAS;AAC7D,qBAAK,QAAQ;AAAA,cACd;AAAA,YACD;AAAA,YACA,QAAQ;AAAA,YACR,cAAc;AAAA,YACd,YAAY,MAAM,aAAa,UAAU,QAAQ;AAAA,UAClD,CAAC;AAED,YAAE,MAAM,OAAO,EACb,SAAS,UAAU,EACnB,KAAK,SAAS,GAAG,MAAM,OAAO,MAAM,MAAM,MAAM,CAAC,EACjD,QAAQ;AAAA,YACR,OAAO,EAAE,MAAM,KAAK,MAAM,IAAI;AAAA,YAC9B,SAAS;AAAA,UACV,CAAC;AAEF,gBAAM,OAAO,KAAK,eAAe,GAAG,MAAM,OAAO,MAAM,MAAM,MAAM,CAAC;AACpE,eAAK,aAAa,KAAK,KAAK;AAAA,QAC7B,CAAC;AACD,aAAK,QAAQ;AAAA,MACd,CAAC;AAAA,IACH;AAAA,IAEA,WAAW,OAAO,OAAO,WAAW;AACnC,UAAI,CAAC,OAAO;AACX,eAAO,KAAK,QAAQ;AAAA,MACrB,OAAO;AACN,YAAI,CAAC,QAAQ,YAAY,SAAS,KAAK,EAAE,SAAS,SAAS,GAAG;AAC7D,kBAAQ,CAAC,QAAQ,MAAM,QAAQ,GAAG;AAAA,QACnC;AACA,eAAO,OAAO,KAAK,SAAS,OAAO,YAAY,CAAC,CAAC,OAAO,KAAK,CAAC,CAAC,CAAC;AAAA,MACjE;AAAA,IACD;AAAA,IAEA,uBAAuB;AACtB,UAAI,KAAK;AAAS,eAAO,KAAK;AAE9B,UAAI,KAAK,cAAc;AACtB,aAAK,UAAU,KAAK,aAAa,IAAI,CAAC,OAAO;AAC5C,iBAAO;AAAA,YACN,OAAO,GAAG;AAAA,YACV,WAAW,GAAG;AAAA,YACd,WAAW,GAAG;AAAA,UACf;AAAA,QACD,CAAC;AAAA,MACF;AAAA,IACD;AAAA,IAEA,aAAa;AACZ,UAAI,KAAK,kBAAkB,KAAK,MAAM,KAAK,cAAc,GAAG;AAC3D,YAAI,SAAS,OAAO,MAAM,qBAAqB,KAAK,gBAAgB,KAAK,OAAO;AAChF,iBAAS,OAAO,MAAM,mBAAmB,MAAM;AAC/C,aAAK,UAAU,OAAO,OAAO,KAAK,SAAS,KAAK,MAAM,MAAM,CAAC;AAAA,MAC9D;AAEA,UAAI,OAAO;AAAA,QACV,QAAQ;AAAA,QACR,MAAM;AAAA,UACL,SAAS,KAAK;AAAA,UACd,aAAa,KAAK;AAAA,UAClB,OAAO,KAAK;AAAA,UACZ,eAAe,KAAK;AAAA,WACjB,KAAK;AAAA,MAEV;AAEA,UAAI,KAAK,UAAU,IAAI,GAAG;AAEzB,eAAO,QAAQ,QAAQ;AAAA,MACxB;AAEA,aAAO,OAAO,KAAK,IAAI;AAAA,IACxB;AAAA,IAEA,UAAU,MAAM;AAGf,UAAI,KAAK,aAAa,KAAK,UAAU,IAAI,MAAM,KAAK,WAAW;AAC9D,eAAO;AAAA,MACR;AACA,WAAK,YAAY,KAAK,UAAU,IAAI;AACpC,iBAAW,MAAM;AAChB,aAAK,YAAY;AAAA,MAClB,GAAG,GAAI;AACP,aAAO;AAAA,IACR;AAAA,IAEA,MAAM,WAAW;AAChB,UAAI,WAAW,MAAM,KAAK,WAAW;AACrC,UAAI,UAAU;AACb,aAAK,OAAO,MAAM,SAAS;AAAA,MAC5B;AAAA,IACD;AAAA,IAEA,OAAO;AACN,WAAK,kBAAkB,KAAK;AAC5B,WAAK,WAAW,EAAE,KAAK,CAAC,QAAQ;AAC/B,YAAI,IAAI,QAAQ,WAAW,GAAG;AAC7B,iBAAO,SAAS,GAAG,0BAA0B,CAAC;AAAA,QAC/C;AACA,aAAK,YAAY,IAAI,OAAO;AAAA,MAC7B,CAAC;AAAA,IACF;AAAA,IAEA,aAAa;AACZ,WAAK,QAAQ,EAAE,+BAA+B;AAE9C,WAAK,gBAAgB;AACrB,WAAK,gBAAgB;AAAA,IACtB;AAAA,IAEA,kBAAkB;AACjB,UAAI,SAAS,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAMN,GAAG,MAAM;AAAA;AAAA;AAAA,GAGjB;AAED,WAAK,YAAY,OAAO,KAAK,kBAAkB;AAC/C,WAAK,UAAU,GAAG,SAAS,CAAC,UAAU;AACrC,aAAK,kBAAkB,MAAM,OAAO,OAAO;AAAA,MAC5C,CAAC;AAED,WAAK,QAAQ,QAAQ,CAAC,QAAQ;AAC7B,YAAI,MAAM,OAAO,KAAK,IAAI;AAC1B,YAAI,MAAM,EAAE,OAAO,GAAG,IAAI,KAAK,QAAQ;AACvC,YAAI,SAAS,GAAG;AAAA,MACjB,CAAC;AAED,aAAO,SAAS,KAAK,KAAK;AAAA,IAC3B;AAAA,IAEA,kBAAkB;AACjB,UAAI,KAAK,KAAK,QAAQ;AACrB,aAAK,QAAQ,MAAM;AAEnB,YAAI,KAAK,OAAO;AACf,eAAK,MAAM,KAAK,OAAO,EAAE,OAAO;AAEhC,cAAI,KAAK,UAAU,QAAQ;AAC1B,iBAAK,UAAU,KAAK,WAAW,KAAK;AAAA,UACrC;AAAA,QACD;AAEA,aAAK,YAAY,KAAK,IAAI;AAC1B,aAAK,MAAM,SAAS,KAAK,OAAO;AAAA,MACjC,OAAO;AACN,YAAI,KAAK,QAAQ,KAAK,YAAY,EAAE;AAAQ;AAE5C,aAAK,QAAQ,MAAM;AACnB,eAAO,eAAe,KAAK,SAAS,IAAI,UAAU,MAAM;AACvD,eAAK,kBAAkB;AAAA,QACxB,CAAC;AAAA,MACF;AAAA,IACD;AAAA,IAEA,oBAAoB;AACnB,UAAI,aAAa;AAAA;AAAA;AAAA,YAGP,SAAS,SAAS,QAAQ,SAAS,EAAE;AAAA,MAC3C,GAAG,oBAAoB,CAAC,GAAG,KAAK,OAAO,CAAC,CAAC;AAAA;AAAA;AAI7C,UAAI,cAAc,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BASO,GAAG,gBAAgB,CAAC,GAAG,KAAK,OAAO,CAAC,CAAC;AAAA,OAC3D;AAAA;AAAA;AAAA,GAGJ;AAED,kBAAY,SAAS,KAAK,OAAO;AAAA,IAClC;AAAA,IAEA,YAAY,UAAU;AACrB,UAAI,SAAS,KAAK,MAAM,KAAK,OAAO;AAEpC,UAAI,CAAC,OAAO,QAAQ;AACnB,iBAAS,EAAE,iBAAiB;AAC5B,eAAO,SAAS,KAAK,KAAK;AAAA,MAC3B;AAEA,eAAS,QAAQ,CAAC,cAAc;AAC/B,YAAI,eAAe,EAAE,WAAW,UAAU,aAAa;AAEvD,YAAI,MAAM,IAAI,OAAO,GAAG,eAAe;AAAA,UACtC,KAAK;AAAA,UACL,KAAK;AAAA,UACL,SAAS,KAAK;AAAA,UACd,eAAe,UAAU;AAAA,UACzB,QAAQ;AAAA,YACP,SAAS,MAAM,KAAK,UAAU,UAAU,IAAI;AAAA,YAC5C,WAAW,MAAM;AAChB,mBAAK,WAAW;AAChB,mBAAK,cAAc;AAAA,YACpB;AAAA,UACD;AAAA,QACD,CAAC;AAED,aAAK,KAAK,KAAK,GAAG;AAClB,qBAAa,SAAS,MAAM;AAAA,MAC7B,CAAC;AAAA,IACF;AAAA,IAEA,eAAe;AACd,YAAM,UAAU,EAAE,mBAAmB;AAErC,aAAO,eAAe,KAAK,SAAS,IAAI,UAAU,MAAM;AACvD,aAAK;AAAA,UAAW;AAAA,UAAS;AAAA,UAAe;AAAA,UAAU;AAAA,UAAM;AAAA,UAAU,MACjE,KAAK,YAAY;AAAA,QAClB;AAAA,MACD,CAAC;AAAA,IACF;AAAA,IAEA,WAAW,SAAS,MAAM,MAAM,QAAQ,MAAM,QAAQ;AACrD,UAAI,EAAE,IAAI,MAAM,EAAE;AAAQ;AAE1B,eAAS,SAAS,SAAS;AAC3B,aAAO,QAAQ,WAAW,yBAAyB;AAEnD,UAAI,SAAS,EAAE;AAAA,oBACG,gBAAgB,oBAAoB,WAAW;AAAA,GAChE;AAED,aAAO,GAAG,SAAS,MAAM,OAAO,CAAC;AACjC,aAAO,SAAS,OAAO;AAAA,IACxB;AAAA,IAEA,cAAc;AACb,UAAI,KAAK,KAAK,UAAU,KAAK,aAAa;AACzC,cAAM,SAAS,EAAE,kBAAkB;AACnC,aAAK,WAAW,QAAQ,QAAQ,aAAa,OAAO,aAAa,MAAM,KAAK,KAAK,CAAC;AAAA,MACnF;AAAA,IACD;AAAA,IAEA,kBAAkB,SAAS;AAC1B,WAAK,KAAK,QAAQ,CAAC,QAAQ,IAAI,cAAc,OAAO,CAAC;AAAA,IACtD;AAAA,IAEA,UAAU,MAAM;AACf,UAAI,OAAO,OAAO,SAAS;AAC3B,UAAI,KAAK,SAAS,OAAO,GAAG;AAC3B,eAAO,KAAK,QAAQ,SAAS,EAAE;AAAA,MAChC;AAEA,aAAO,SAAS,OAAO,OAAO,MAAM;AAAA,IACrC;AAAA,IAEA,eAAe;AACd,aAAO,KAAK,KAAK,OAAO,CAAC,QAAQ,IAAI,YAAY,CAAC;AAAA,IACnD;AAAA,IAEA,gBAAgB;AACf,UAAI,CAAC,KAAK,SAAS;AAAc;AACjC,UAAI,MAAM,EAAE,cAAc;AAC1B,OAAC,KAAK,aAAa,EAAE,SAAS,IAAI,SAAS,MAAM,IAAI,IAAI,YAAY,MAAM;AAAA,IAC5E;AAAA,IAEA,aAAa;AACZ,UAAI,CAAC,KAAK,SAAS;AAAc;AACjC,UAAI,MAAM,EAAE,aAAa;AACzB,WAAK,aAAa,EAAE,SAAS,IAAI,SAAS,MAAM,IAAI,IAAI,YAAY,MAAM;AAAA,IAC3E;AAAA,IAEA,cAAc;AACb,UAAI,CAAC,KAAK,SAAS;AAAc;AACjC,aACE,KAAK;AAAA,QACL,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,MAAM;AAAA,UACL,eAAe,KAAK;AAAA,UACpB,UAAU,KAAK,aAAa,EAAE,IAAI,CAAC,QAAQ,IAAI,IAAI,IAAI;AAAA,QACxD;AAAA,MACD,CAAC,EACA,KAAK,MAAM;AACX,aAAK,QAAQ;AACb,aAAK,cAAc;AACnB,aAAK,WAAW;AAAA,MACjB,CAAC;AAAA,IACH;AAAA,EACD;AAEA,SAAO,GAAG,iBAAiB,MAAM,eAAe;AAAA,IAC/C,YAAY,EAAE,KAAK,KAAK,SAAS,eAAe,QAAQ,QAAQ,GAAG;AAClE,aAAO,OAAO,MAAM,EAAE,KAAK,KAAK,SAAS,eAAe,OAAO,CAAC;AAChE,WAAK,SAAS;AAAA,IACf;AAAA,IAEA,WAAW;AAGV,UAAI,QAAQ,EAAE,qCAAqC;AAEnD,WAAK,WAAW,EAAE,yBAAyB;AAC3C,WAAK,SAAS,GAAG,SAAS,CAAC,UAAU;AACpC,aAAK,cAAc,MAAM,OAAO,OAAO;AACvC,cAAM,yBAAyB;AAAA,MAChC,CAAC;AACD,WAAK,SAAS,SAAS,KAAK;AAC5B,YAAM,SAAS,KAAK,GAAG;AAGvB,UAAI,WAAW,EAAE,2BAA2B,GAAG,KAAK,aAAa,YAAY;AAC7E,eAAS,SAAS,KAAK,GAAG;AAE1B,WAAK,QAAQ,QAAQ,CAAC,UAAU;AAC/B,YAAI,YAAY,OAAO,KAAK,cAAc,MAAM,SAAS;AACzD,YAAI,QACF,KAAK,IAAI,MAAM,cACf;AAAA,UACC,UAAU,KAAK,IAAI,MAAM,YAAY,OAAO,EAAE,YAAY,EAAE,GAAG,KAAK,GAAG;AAAA,QACxE,KACD;AACA,YAAI,OAAO,EAAE,2BAA2B,gBAAgB;AAExD,YAAI,MAAM,cAAc,UAAU;AACjC,cAAI,OAAO,KAAK,KAAK,GAAG;AACxB,cAAI,MAAM,YAAY,MAAM,UAAU,KAAK,IAAI,YAAY,YAAY,MAAM,QAAQ;AACpF,iBAAK,SAAS,oBAAoB;AAAA,UACnC,WAAW,MAAM,YAAY,MAAM,UAAU;AAC5C,iBAAK,SAAS,qBAAqB;AAAA,UACpC,WAAW,MAAM,YAAY,MAAM,WAAW;AAC7C,iBAAK,SAAS,uBAAuB;AAAA,UACtC,WAAS,MAAM,YAAY,MAAM,QAAQ;AACxC,iBAAK,SAAS,qBAAqB;AAAA,UACpC;AAAA,QACD;AACA,aAAK,SAAS,KAAK,GAAG;AAEvB,YAAI,MAAM,cAAc,eAAe;AACtC,kBAAQ,EAAE,KAAK,EAAE,SAAS,UAAU;AACpC,iBAAO,EAAE,WAAW,EAAE,OAAO,KAAK;AAAA,QACnC;AACA,aAAK,SAAS,KAAK,GAAG;AAAA,MACvB,CAAC;AAED,WAAK,IAAI,GAAG,SAAS,MAAM,KAAK,OAAO,QAAQ,CAAC;AAAA,IACjD;AAAA,IAEA,cAAc,SAAS;AACtB,WAAK,SAAS,KAAK,WAAW,OAAO;AACrC,WAAK,OAAO,UAAU,OAAO;AAAA,IAC9B;AAAA,IAEA,cAAc;AACb,aAAO,KAAK,SAAS,KAAK,SAAS;AAAA,IACpC;AAAA,EACD;;;ACxaA,SAAO,QAAQ,cAAc;AAI7B,MAAM,oBAAoB;AAAA,IACzB,OAAO;AACN,WAAK,KAAK,OAAO,CAAC,CAAC;AAAA,IACpB;AAAA,IAEA,QAAQ,KAAK,MAAM;AAClB,OAAC,KAAK,MAAM,KAAK,KAAK;AACtB,WAAK,GAAG,QAAQ,KAAK,IAAI;AAAA,IAC1B;AAAA,IAEA,KAAK,KAAK,SAAS;AAClB,OAAC,KAAK,MAAM,KAAK,KAAK;AACtB,WAAK,GAAG,IAAI,KAAK,CAAC,GAAG,SAAS,QAAQ,IAAI,CAAC;AAAA,IAC5C;AAAA,IAEA,GAAG,KAAK,SAAS;AAChB,OAAC,KAAK,MAAM,KAAK,KAAK;AACtB,WAAK,GAAG,KAAK,KAAK,CAAC,GAAG,SAAS,QAAQ,IAAI,CAAC;AAAA,IAC7C;AAAA,IAEA,IAAI,KAAK,SAAS;AACjB,OAAC,KAAK,MAAM,KAAK,KAAK;AACtB,WAAK,GAAG,OAAO,KAAK,CAAC,GAAG,SAAS,QAAQ,IAAI,CAAC;AAAA,IAC/C;AAAA,EACD;AAEA,SAAO,MAAM,qBAAqB,SAAU,QAAQ;AACnD,WAAO,OAAO,QAAQ,iBAAiB;AACvC,WAAO;AAAA,EACR;AAEA,MAAO,wBAAQ;;;ACnCf,SAAO,QAAQ,WAAW;AAC1B,SAAO,QAAQ,iBAAiB;AAGhC,MAAqB,UAArB,cAAqC,OAAO,GAAG,WAAW;AAAA,IACzD,YAAY,MAAM;AACjB,YAAM;AACN,aAAO,OAAO,MAAM,IAAI;AACxB,aAAO,WAAW;AAClB,aAAO,SAAS,SAAS,CAAC;AAC1B,aAAO,OAAO,OAAO,SAAS,QAAQ,qBAAiB;AACvD,WAAK,kBAAkB;AACvB,WAAK,qBAAqB;AAAA,IAC3B;AAAA,IAEA,QAAQ,cAAc,KAAK;AAC1B,aAAO,OAAO,MAAM,YAAY;AAChC,WAAK,SAAS,aAAa;AAC3B,WAAK,MAAM;AAAA,IACZ;AAAA,IAEA,OAAO;AACN,WAAK,OAAO,MAAM;AAClB,YAAM,KAAK;AACX,WAAK,gBAAgB;AACrB,WAAK,iBAAiB;AAEtB,UAAI,KAAK,UAAU,KAAK,cAAc;AACrC,aAAK,qBAAqB;AAC1B,aAAK,qBAAqB;AAAA,MAC3B;AAEA,WAAK,2BAA2B;AAChC,WAAK,eAAe;AAGpB,aAAO,sBAAsB,OAAO,mBAAmB;AACvD,WAAK,gBAAgB;AACrB,aAAO,SAAS,OAAO,QAAQ,YAAY;AAC3C,WAAK,cAAc,KAAK,WAAW;AAAA,IACpC;AAAA,IAEA,GAAG,WAAW,SAAS;AACtB,UAAI,QAAQ,KAAK,YAAY;AAC7B,YAAM,GAAG,SAAS,MAAM;AACvB,gBAAQ,OAAO,MAAM,KAAK;AAC1B,aAAK,mBAAmB;AACxB,aAAK,gBAAgB;AAAA,MACtB;AAAA,IACD;AAAA,IAEA,kBAAkB;AAEjB,WAAK,OAAO,QAAQ,CAAC,UAAU;AAC9B,YAAI,CAAC,MAAM,QAAQ;AAClB,gBAAM,SAAS,MAAM;AACpB,iBAAK,mBAAmB;AACxB,iBAAK,gBAAgB;AAAA,UACtB;AAAA,QACD;AAAA,MACD,CAAC;AAAA,IACF;AAAA,IAEA,kBAAkB;AACjB,aAAO,aAAa;AACpB,QAAE,wBAAwB,EAAE,YAAY,MAAM;AAAA,IAC/C;AAAA,IAEA,kBAAkB;AACjB,WAAK,cAAc,EAAE,aAAa;AAElC,UAAI,KAAK,YAAY,QAAQ;AAC5B,aAAK,YAAY,KAAK,CAAC,GAAG,eAAe;AACxC,cAAI,CAAC,EAAE,UAAU,EAAE,KAAK,MAAM,EAAE,QAAQ;AACvC,cAAE,UAAU,EAAE,OAAO;AAAA,UACtB;AAAA,QACD,CAAC;AAAA,MACF;AAEA,WAAK,cAAc,EAAE,aAAa;AAClC,WAAK,qBAAqB,CAAC,CAAC,KAAK,YAAY;AAAA,IAC9C;AAAA,IAEA,6BAA6B;AAC5B,UAAI,KAAK;AAET,UAAI,CAAC,GAAG,oBAAoB;AAC3B;AAAA,MACD;AAEA,WAAK,eAAe,EAAE;AAAA,KACnB,GAAG,MAAM;AAAA,YACF;AAEV,WAAK,mBAAmB,EAAE;AAAA,KACvB,GAAG,UAAU;AAAA,YACN;AAEV,WAAK,aAAa,YAAY,2CAA2C;AACzE,WAAK,gBAAgB,EAAE,8BAA8B,EAAE,OAAO,KAAK,YAAY;AAC/E,QAAE,6BAA6B,EAAE,QAAQ,KAAK,gBAAgB;AAE9D,WAAK,iBAAiB,GAAG,SAAS,MAAM;AACvC,YAAI,eAAe,GAAG,iBAAiB;AAEvC,YAAI,CAAC;AAAc,iBAAO;AAU1B,iBAAS,MAAM,GAAG,iBAAiB,MAAM,GAAG,SAAS,QAAQ,OAAO;AACnE,cAAI,WAAW,GAAG,0BAA0B,GAAG;AAC/C,aAAG,kBACF,GAAG,kBAAkB,IAAI,GAAG,kBAAkB,IAAI,GAAG;AAEtD,cAAI,CAAC,UAAU;AACd;AAAA,UACD;AAAA,QACD;AAEA,WAAG,eAAe;AAClB,eAAO;AAAA,MACR,CAAC;AAED,WAAK,aAAa,GAAG,SAAS,MAAM;AACnC,YAAI,eAAe,GAAG,iBAAiB;AAEvC,YAAI,CAAC;AAAc,iBAAO;AAE1B,iBAAS,MAAM,GAAG,iBAAiB,MAAM,GAAG,SAAS,QAAQ,OAAO;AACnE,cAAI,WAAW,GAAG,sBAAsB,GAAG;AAC3C,aAAG,kBACF,GAAG,kBAAkB,GAAG,SAAS,SAC9B,GAAG,kBAAkB,IACrB,GAAG;AAEP,cAAI,CAAC,UAAU;AACd;AAAA,UACD;AAAA,QACD;AACA,WAAG,eAAe;AAClB,eAAO;AAAA,MACR,CAAC;AAAA,IACF;AAAA,IAEA,mBAAmB;AAClB,UAAI,KAAK,IAAI;AAAM,aAAK,WAAW,KAAK,GAAG;AAAA;AACtC;AAAA,IACN;AAAA,IAEA,qBAAqB;AACpB,UAAI,WAAW,CAAC;AAChB,eAAS,MAAM,KAAK,QAAQ;AAC3B,YAAI,GAAG,SAAS;AACf,mBAAS,GAAG,aAAa,GAAG;AAAA,QAC7B;AAAA,MACD;AACA,UAAI,SAAS,OAAO,MAAM,iBAAiB;AAC3C,aAAO,OAAO;AACd,aAAO,OAAO,UAAU,MAAM;AAC9B,WAAK,WAAW,MAAM;AAAA,IACvB;AAAA,IAEA,uBAAuB;AACtB,QAAE,WAAW,EAAE,GAAG,UAAU,MAAM,KAAK,KAAK,CAAC;AAAA,IAC9C;AAAA,IAEA,uBAAuB;AACtB,QAAE,+BAA+B,EAAE,GAAG,SAAS,MAAM,KAAK,aAAa,CAAC;AAAA,IACzE;AAAA,IAEA,eAAe;AACd,UAAI,OAAO,OAAO,SAAS;AAE3B,aAAO,KAAK,UAAU,GAAG,KAAK,YAAY,GAAG,CAAC;AAE9C,UAAI,OAAO,YAAY;AACtB,eAAO;AAAA,UACN,GAAG,UAAU;AAAA,UACb,GAAG,+CAA+C;AAAA,UAClD,MAAO,OAAO,SAAS,OAAO;AAAA,UAC9B,GAAG,SAAS;AAAA,QACb;AAAA,MACD,OAAO;AACN,eAAO,SAAS,OAAO;AAAA,MACxB;AACA,aAAO;AAAA,IACR;AAAA,IAEA,mBAAmB;AAClB,UAAI,KAAK;AAAkB,eAAO;AAElC,UAAI,SAAS,EAAE,GAAG,KAAK,SAAS,KAAK,eAAe,iBAAiB;AACrE,UAAI,SAAS,CAAC;AACd,UAAI,iBAAiB,CAAC;AAEtB,eAAS,SAAS,QAAQ;AACzB,YAAI,YAAY,EAAE,KAAK,EAAE,KAAK,gBAAgB;AAC9C,YAAI,CAAC;AAAW;AAEhB,gBAAQ,KAAK,YAAY;AAEzB,YAAI,SAAS,MAAM,WAAW;AAC7B,cAAI,QAAQ,MAAM,UAAU;AAC5B,cACC,MAAM,GAAG,QACT,QAAQ,OAAO,UAAU,WAAW,WAAW,KAAK,IAAI,KAAK;AAE7D,mBAAO,KAAK,GAAG,MAAM,GAAG,KAAK,CAAC;AAE/B,cACC,MAAM,GAAG,QACT,MAAM,GAAG,cAAc,iBACvB,QAAQ,WAAW,KAAK,KAAK,CAAC,CAAC;AAE/B,mBAAO,KAAK,GAAG,MAAM,GAAG,KAAK,CAAC;AAE/B,cAAI,MAAM,GAAG;AAAS,2BAAe,KAAK,GAAG,MAAM,GAAG,KAAK,CAAC;AAAA,QAC7D;AAAA,MACD;AAEA,UAAI,UAAU;AACd,UAAI,eAAe,QAAQ;AAC1B,mBAAW,GAAG,8BAA8B,MAAM,2BAA2B;AAC7E,mBAAW,qBAAqB,eAAe,KAAK,MAAM,IAAI;AAAA,MAC/D;AAEA,UAAI,OAAO,QAAQ;AAClB,mBAAW,GAAG,8BAA8B,MAAM,2BAA2B;AAC7E,mBAAW,qBAAqB,OAAO,KAAK,MAAM,IAAI;AAAA,MACvD;AAEA,UAAI,eAAe,UAAU,OAAO,QAAQ;AAC3C,eAAO,SAAS;AAAA,UACf,OAAO,GAAG,SAAS,MAAM,oCAAoC;AAAA,UAC7D;AAAA,UACA,WAAW;AAAA,QACZ,CAAC;AAAA,MACF;AAEA,aAAO,EAAE,OAAO,UAAU,eAAe;AAAA,IAC1C;AAAA,IAEA,iBAAiB;AAChB,UAAI,CAAC,KAAK;AAAoB;AAE9B,WAAK,qBAAqB;AAC1B,WAAK,uBAAuB;AAC5B,WAAK,gBAAgB;AACrB,WAAK,eAAe;AACpB,WAAK,eAAe;AAAA,IACrB;AAAA,IAEA,uBAAuB;AACtB,UAAI,CAAC,KAAK;AAAoB;AAC9B,QAAE,qBAAqB,EAAE,MAAM;AAE/B,UAAI,KAAK,cAAc;AACtB,YAAI,cAAc,GAAG,mBAAmB;AAAA,UACvC,KAAK,kBAAkB;AAAA,UACvB,KAAK,YAAY,SAAS;AAAA,QAC3B,CAAC;AACD,UAAE,qBAAqB,EAAE,OAAO,QAAQ,mBAAmB;AAC3D;AAAA,MACD;AAEA,WAAK,kBAAkB,EAAE,qCAAqC,EAAE;AAAA,QAC/D,EAAE,qBAAqB;AAAA,MACxB;AACA,WAAK,gBAAgB,MAAM;AAE3B,UAAI,KAAK,YAAY,SAAS;AAAG;AAEjC,eAAS,IAAI,GAAG,KAAK,KAAK,YAAY,QAAQ,KAAK;AAClD,YAAI,OAAO,EAAE;AAAA;AAAA,uCAEuB,OAAO,MAAM,KAAK,QAAQ,IAAI;AAAA,UAC3D,EAAE,KAAK,EAAE,gBAAgB,EAAE,CAAC;AAEnC,YAAI,IAAI,KAAK,iBAAiB;AAC7B,eAAK,SAAS,cAAc;AAAA,QAC7B;AACA,YAAI,MAAM,KAAK,iBAAiB;AAC/B,eAAK,SAAS,QAAQ;AAAA,QACvB;AACA,aAAK,gBAAgB,OAAO,IAAI;AAAA,MACjC;AAAA,IACD;AAAA,IAEA,iBAAiB;AAChB,eAAS,MAAM,KAAK,iBAAiB,OAAO,KAAK,YAAY,QAAQ,OAAO;AAC3E,YAAI,KAAK,sBAAsB,GAAG,GAAG;AACpC,eAAK,+BAA+B;AAAA,QACrC,OAAO;AACN,eAAK,+BAA+B;AACpC;AAAA,QACD;AAAA,MACD;AAAA,IACD;AAAA,IAEA,sBAAsB,SAAS;AAC9B,UAAI,UAAU,IAAI,KAAK,YAAY,SAAS;AAAG,eAAO;AAEtD,UAAI,QAAQ,EAAE,GAAG,KAAK,SAAS,UAAU,CAAC,GAAG;AAC7C,UAAI,mBAAmB,MAAM,KAAK,oCAAoC;AAEtE,aAAO,CAAC,iBAAiB,SAAS,OAAO;AAAA,IAC1C;AAAA,IAEA,0BAA0B,SAAS;AAClC,UAAI,UAAU,IAAI,KAAK,YAAY,SAAS;AAAG,eAAO;AAEtD,UAAI,QAAQ,EAAE,GAAG,KAAK,SAAS,UAAU,CAAC,GAAG;AAC7C,UAAI,mBAAmB,MAAM,KAAK,oCAAoC;AAEtE,aAAO,CAAC,iBAAiB,SAAS,OAAO;AAAA,IAC1C;AAAA,IAEA,iCAAiC;AAChC,QAAE,WAAW,EAAE,KAAK;AACpB,QAAE,aAAa,EAAE,KAAK;AAAA,IACvB;AAAA,IAEA,iCAAiC;AAChC,QAAE,WAAW,EAAE,KAAK;AACpB,OAAC,KAAK,oBAAoB,EAAE,aAAa,EAAE,KAAK;AAAA,IACjD;AAAA,IAEA,yBAAyB;AACxB,WAAK,mBAAmB,IAAI,EAAE,eAAe,EAAE,KAAK,IAAI,EAAE,eAAe,EAAE,KAAK;AAAA,IACjF;AAAA,IAEA,SAAS,KAAK;AACb,aAAO,MAAM,IAAI,kBAAkB,MAAM,OAAO,iBAAiB;AAAA,IAClE;AAAA,IAEA,iBAAiB;AAChB,QAAE,KAAK,SAAS,KAAK,eAAe,CAAC,EAAE,KAAK;AAAA,IAC7C;AAAA,IAEA,kBAAkB;AACjB,eAAS,MAAM,GAAG,OAAO,KAAK,YAAY,QAAQ,OAAO;AACxD,YAAI,QAAQ,KAAK,iBAAiB;AACjC,YAAE,KAAK,SAAS,GAAG,CAAC,EAAE,KAAK;AAAA,QAC5B;AAAA,MACD;AAAA,IACD;AAAA,IAEA,OAAO;AACN,UAAI,SAAS,KAAK;AAClB,UAAI,QAAQ,KAAK,YAAY,KAAK,SAAS;AAC3C,UAAI,CAAC,SAAS,UAAU,QAAW;AAClC,eAAO;AAAA,UACN,GAAG,uDAAuD;AAAA,UAC1D,GAAG,kBAAkB;AAAA,QACtB;AACA,eAAO;AAAA,MACR;AAGA,UAAI,aAAa,MAAM,WAAW,KAAK,gBAAgB;AAEvD,UAAI,CAAC;AAAY,eAAO;AAExB,UAAI,OAAO;AAAQ,eAAO;AAE1B,UAAI,cAAc,QAAQ,KAAK,kBAAkB,CAAC,KAAK,IAAI,IAAI;AAE/D,aAAO,OAAO,KAAK,KAAK,UAAU;AAClC,WAAK,IAAI,UAAU,KAAK;AACxB,WAAK,IAAI,gBAAgB,KAAK;AAG9B,aAAO,SAAS;AAChB,aAAO,aAAa;AAEpB,aAAO,KAAK;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,MAAM;AAAA,UACL,MAAM,KAAK;AAAA,UACX,UAAU,KAAK;AAAA,UACf;AAAA,QACD;AAAA,QACA,KAAK,EAAE,aAAa;AAAA,QACpB,QAAQ;AAAA,QACR,UAAU,CAAC,aAAa;AAEvB,cAAI,CAAC,SAAS,KAAK;AAElB,iBAAK,eAAe,SAAS,OAAO;AACpC,mBAAO,SAAS,OAAO,QAAQ,YAAY;AAC3C,iBAAK,cAAc,KAAK,WAAW;AAEnC,gBAAI,WAAW,SAAS,QAAQ,cAAc,SAAS,QAAQ,OAAO;AACrE,qBAAO,KAAK;AAAA,gBACX,MAAM;AAAA,gBACN,QAAQ;AAAA,gBACR,MAAM;AAAA,kBACL,UAAU,SAAS,QAAQ,cAAc,SAAS,QAAQ;AAAA,kBAC1D,SAAS,SAAS,QAAQ;AAAA,kBAC1B,SAAS,SAAS,QAAQ;AAAA,gBAC3B;AAAA,cACD,CAAC;AAAA,YACF;AAAA,UACD;AAAA,QACD;AAAA,QACA,QAAQ,WAAY;AACnB,iBAAO,SAAS;AAAA,QACjB;AAAA,MACD,CAAC;AACD,aAAO;AAAA,IACR;AAAA,IAEA,eAAe,MAAM;AAEpB,UAAI,KAAK,kBAAkB,CAAC,KAAK,IAAI,MAAM;AAC1C,eAAO,SAAS,OAAO;AAAA,MACxB;AAEA,UAAI,CAAC,KAAK,QAAQ;AACjB,UAAE,gBAAgB,EAAE,KAAK,GAAG,SAAS,CAAC;AACtC,UAAE,kBAAkB,EAAE,KAAK,GAAG,yCAAyC,CAAC;AAAA,MACzE;AAEA,QAAE,qBAAqB,EAAE,KAAK;AAC9B,QAAE,eAAe,EAAE,YAAY,MAAM;AAErC,UAAI,KAAK,aAAa;AACrB,eAAO,MAAM,YAAY,GAAG,GAAG,EAAE,OAAO,CAAC;AACzC,mBAAW,MAAM;AAChB,iBAAO,SAAS,OAAO,KAAK;AAAA,QAC7B,GAAG,GAAI;AAAA,MACR,OAAO;AACN,aAAK,oBAAoB,IAAI;AAAA,MAC9B;AAAA,IACD;AAAA,IAEA,oBAAoB,MAAM;AACzB,UAAI,KAAK,cAAc,KAAK,MAAM;AACjC,UAAE,iBAAiB,EAAE,OAAO;AAAA,gBACf,KAAK,SAAS,KAAK;AAAA,OAC5B,GAAG,sBAAsB,MAAM,oBAAoB;AAAA;AAAA,IAEtD;AAAA,MACF;AAEA,UAAI,KAAK,kBAAkB,CAAC,KAAK,kBAAkB,CAAC,KAAK,aAAa,KAAK,MAAM;AAChF,UAAE,iBAAiB,EAAE,OAAO;AAAA,gBACf,KAAK,SAAS,KAAK;AAAA,OAC5B,GAAG,sBAAsB,MAAM,oBAAoB;AAAA;AAAA,IAEtD;AAAA,MACF;AAAA,IACD;AAAA,EACD;;;ACzcA,SAAO,MAAM,WAAY;AACxB,QAAI,eAAe,OAAO;AAC1B,QAAI,gBAAgB,OAAO;AAE3B,sBAAkB;AAElB,iBAAa,UAAU,UAAU,IAAI,UAAU;AAE/C,aAAS,oBAAoB;AAC5B,UAAI,OAAO,QAAQ,QAAQ,WAAW,CAAC,aAAa;AAAgB;AACpE,YAAM,iBAAiB,IAAI,OAAO,GAAG,OAAO;AAAA,QAC3C,OAAO,GAAG,eAAe;AAAA,QACzB,sBAAsB,GAAG,OAAO;AAAA,QAChC,gBAAgB,MAAM;AACrB,iBAAO,SAAS,QAAQ,wBAAwB,OAAO,SAAS,QAAQ;AAAA,QACzE;AAAA,MACD,CAAC;AACD,qBAAe,KAAK;AACpB,qBAAe,YAAY,GAAG,0DAA0D,CAAC;AAAA,IAC1F;AAEA,aAAS,YAAY;AACpB,UAAI,YAAY;AAAA,QACf,SAAS,aAAa;AAAA,QACtB,eAAe,aAAa;AAAA,QAC5B,cAAc,aAAa;AAAA,QAC3B,gBAAgB,aAAa;AAAA,QAC7B,UAAU;AAAA,UACT,cAAc,aAAa;AAAA,QAC5B;AAAA,MACD,CAAC;AAAA,IACF;AAEA,aAAS,YAAY;AACpB,UAAI,WAAW,IAAI,QAAQ;AAAA,QAC1B,QAAQ,EAAE,mBAAmB;AAAA,MAC9B,CAAC;AACD,UAAI,MAAM,iBAAiB,CAAC;AAC5B,mBAAa,cAAc,GAAG;AAE9B,eAAS,QAAQ,cAAc,GAAG;AAClC,eAAS,KAAK;AAEd,UAAI,aAAa,QAAQ;AACxB,iBAAS,mBAAmB;AAAA,MAC7B;AAEA,QAAE,YAAY,EAAE,KAAK,WAAY;AAChC,UAAE,IAAI,EAAE,KAAK,OAAO,KAAK,WAAW,SAAS,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;AAAA,MAC7D,CAAC;AAAA,IACF;AAEA,aAAS,aAAaA,eAAc,UAAU;AAC7C,MAAAA,cAAa,gBAAgB,QAAQ,CAAC,OAAO;AAC5C,WAAG,cAAc;AACjB,WAAG,YAAY,GAAG,aAAc,CAACA,cAAa,UAAU,CAACA,cAAa;AACtE,YAAI,GAAG,cAAc,SAAS;AAC7B,aAAG,WAAW,MAAM;AACnB,gBAAI,OAAO,CAAC;AACZ,gBAAI,YAAY,SAAS,GAAG,YAAY;AACvC,qBAAO,SAAS,GAAG;AAAA,YACpB;AACA,mBAAO;AAAA,UACR;AAEA,YAAE,KAAK,GAAG,UAAU,CAAC,GAAG,SAAU,IAAI,OAAO;AAC5C,gBAAI,MAAM,cAAc,QAAQ;AAC/B,oBAAM,cAAc;AAAA,YACrB;AACA,kBAAM,cAAc;AAAA,UACrB,CAAC;AAED,cAAI,GAAG,cAAc,UAAU;AAC9B,eAAG,aAAa;AAAA,UACjB;AAEA,iBAAO,GAAG;AACV,iBAAO,GAAG;AACV,iBAAO,GAAG;AACV,iBAAO,GAAG;AAEV,iBAAO;AAAA,QACR;AACA,YAAI,GAAG,cAAc,QAAQ;AAC5B,aAAG,cAAc;AAAA,QAClB;AACA,YAAI,CAAC,UAAU,cAAc,EAAE,SAAS,GAAG,SAAS,GAAG;AACtD,cAAI,OAAO,GAAG,YAAY,UAAU;AACnC,eAAG,UAAU,CAAC;AAAA,UACf;AACA,aAAG,QAAQ,uBAAuB;AAAA,QACnC;AAAA,MACD,CAAC;AAAA,IACF;AAAA,EACD,CAAC;",
  "names": ["web_form_doc"]
}
